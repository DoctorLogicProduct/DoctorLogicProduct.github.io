!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.marketAnalysis=t(require("React"),require("ReactDOM")):e.marketAnalysis=t(e.React,e.ReactDOM)}(self,(function(e,t){return(()=>{"use strict";var a={827:(e,t,a)=>{a.r(t),a.d(t,{init:()=>ce});var n=a(804),l=a.n(n),r=a(196),o=a.n(r);const i=()=>{},s=e=>((e,t)=>"function"==typeof e?e:t)(e,i),c=e=>"number"==typeof e&&!isNaN(e),u=(e,t)=>c(e)?e:t,p=(e,...t)=>"function"==typeof e?e(...t):e,m=(e,t)=>{if(!t)return e;const[a,n=""]=e.split("?"),l=Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&");return`${a}?${n}${n.length?"&":""}${l}`};function d(e,t,a){return"function"==typeof t&&(a=t,t=void 0),function(e,t,a){"function"==typeof t&&(a=t,t=void 0);const n=s(a);return n(!0),fetch(m(e,t)).finally((()=>n(!1)))}(e,t,a).then((e=>e.json()))}function g(e,t){const a="object"==typeof t?t:{};return"number"==typeof t&&(a.minimumFractionDigits=a.maximumFractionDigits=t),new Intl.NumberFormat(navigator.language,a).format(e)}const v=(...e)=>Promise.all(e.map((e=>new Promise(((t,a)=>{const n=document.createElement("script");n.type="text/javascript",n.onload=()=>t(),n.onerror=a,n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}))))).then(),b=(e,t="",a="",n="")=>e?`${a}${e}${n}`:t,f=(e,t="",a="",n="",l)=>"number"==typeof e?`${a}${g(e,l)}${n}`:t,y=(e,t="",a)=>f(e,t,"","%",a),h=(e,t="",a)=>f(e,t,"$","",a),E=({loading:e,children:t})=>l().createElement(l().Fragment,null,e?l().createElement("span",{className:"table__loading table__loading--cell"}):t),_=({loading:e,label:t,single:a,area:n})=>l().createElement("tr",null,l().createElement("td",null,t),l().createElement("td",null,l().createElement(E,{loading:e},a)),l().createElement("td",null,l().createElement(E,{loading:e},n))),O=({loading:e,demographics:t})=>{var a,n;return l().createElement("table",{className:"table table--demographics"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Demographic"),l().createElement("th",null,b(null===(a=null==t?void 0:t.Zip)||void 0===a?void 0:a.toString(),"Zip Code")),l().createElement("th",null,b(null===(n=null==t?void 0:t.Radius)||void 0===n?void 0:n.toString(),"Radius",""," Miles")))),l().createElement("tbody",null,[{label:"Population",single:f(null==t?void 0:t.SinglePopulation),area:f(null==t?void 0:t.AreaPopulation)},{label:"Female",single:f(null==t?void 0:t.SingleFemale),area:f(null==t?void 0:t.AreaFemale)},{label:"Female (30-60)",single:f(null==t?void 0:t.SingleFemale3060),area:f(null==t?void 0:t.AreaFemale3060)},{label:"Male",single:f(null==t?void 0:t.SingleMale),area:f(null==t?void 0:t.AreaMale)},{label:"Male (30-60)",single:f(null==t?void 0:t.SingleMale3060),area:f(null==t?void 0:t.AreaMale3060)},{label:"White",single:y(null==t?void 0:t.SingleWhite),area:y(null==t?void 0:t.AreaWhite)},{label:"Black",single:y(null==t?void 0:t.SingleBlack),area:y(null==t?void 0:t.AreaBlack)},{label:"Asian",single:y(null==t?void 0:t.SingleAsian),area:y(null==t?void 0:t.AreaAsian)},{label:"Other",single:y(null==t?void 0:t.SingleOther),area:y(null==t?void 0:t.AreaOther)},{label:"Hispanic",single:y(null==t?void 0:t.SingleHispanic),area:y(null==t?void 0:t.AreaHispanic)},{label:"Non-Hispanic",single:y(null==t?void 0:t.SingleNonHispanic),area:y(null==t?void 0:t.AreaNonHispanic)},{label:"Avg Income",single:h(null==t?void 0:t.SingleIncome),area:h(null==t?void 0:t.AreaIncome)},{label:"Home Value",single:h(null==t?void 0:t.SingleHome),area:h(null==t?void 0:t.AreaHome)}].map((t=>l().createElement(_,Object.assign({key:t.label,loading:e},t))))))},N=e=>!!e,S={email:e=>N(e)&&/.+@.+\.+/.test(e),practice:e=>!!e&&N(e.address),phone:e=>N(e)&&!!e&&10===e.replace(/\D/g,"").length,requiredString:N,specialty:e=>!!e&&!!e.SpecialtyId,website:e=>N(e)&&/.+\..+/.test(e)},w={conversionRate:25,driveSpeed:60,driveTime:15,form:{email:"",fullName:"",phone:"",practice:{address:"",lat:0,lng:0,name:"",zip:""},specialty:void 0,website:""},formValidators:{email:S.email,fullName:S.requiredString,phone:S.phone,practice:S.practice,specialty:S.specialty,website:S.website},isolineColor:"#086bb5",mapGestureHandling:!0,page:1,radius:10,setState:()=>{},templates:{},urls:{demographic:"",isoline:"",mapbox:"",procedures:"",specialties:""}},j=(0,n.createContext)(w);const C=e=>{var{apiKey:t,className:a="",value:r,onChange:o}=e,i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["apiKey","className","value","onChange"]);(0,n.useContext)(j);const[s,c]=(0,n.useState)((null==r?void 0:r.name)||""),u=(0,n.useRef)(),p=(0,n.useCallback)((e=>{e?(e=>{return t=void 0,a=void 0,l=function*(){if(!(window.google&&window.google.maps&&window.google.maps.places))return console.debug("loading google places api"),v(`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`).then((()=>console.debug("google places api loaded")));console.debug("google places api already loaded")},new((n=void 0)||(n=Promise))((function(e,r){function o(e){try{s(l.next(e))}catch(e){r(e)}}function i(e){try{s(l.throw(e))}catch(e){r(e)}}function s(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(o,i)}s((l=l.apply(t,a||[])).next())}));var t,a,n,l})(t).then((()=>{u.current=new google.maps.places.Autocomplete(e,{types:["establishment"],componentRestrictions:{country:"us"}}),u.current.addListener("place_changed",(()=>{if(c(e.value),u.current){const e=u.current.getPlace();o((e=>{var t,a,n,l;return{address:e.formatted_address,lat:null===(t=e.geometry)||void 0===t?void 0:t.location.lat(),lng:null===(a=e.geometry)||void 0===a?void 0:a.location.lng(),name:e.name,zip:null===(l=null===(n=e.address_components)||void 0===n?void 0:n.find((e=>e.types.includes("postal_code"))))||void 0===l?void 0:l.short_name}})(e))}}))})):u.current&&u.current.unbindAll()}),[]);return l().createElement(k,Object.assign({},i,{value:s,onChange:e=>c(e),className:`input--google-place ${a}`,type:"text",inputRef:p,render:e=>l().createElement("span",{className:"input__input-wrapper"},e)}))},P=e=>!0===e?"valid":!1===e?"invalid":"unknown",x=({label:e,type:t,valid:a,validationMessage:r,className:o="",touched:i=!1,children:s})=>{const[c,u]=(0,n.useState)(i),m=`input${t?` input--${t}`:""}${o?` ${o}`:""}`.trim(),d=a&&a();return(0,n.useEffect)((()=>{i&&u(i)}),[i]),l().createElement("label",{className:m,onBlur:()=>u(!0)},l().createElement("span",{className:"input__label"},e),s,r&&l().createElement("span",{className:`input__validation input__validation--${P(d)}`},d||!c?"":p(r)))};const k=e=>{var{label:t,name:a,inputRef:n,type:r,className:o="",valid:i,validationMessage:s,touched:c,onChange:u,children:p,render:m}=e,d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["label","name","inputRef","type","className","valid","validationMessage","touched","onChange","children","render"]);const g="function"==typeof m?m:e=>l().createElement(l().Fragment,null,e,p);return l().createElement(x,{label:t,type:r,className:o,valid:i,validationMessage:s,touched:c},g(l().createElement("input",Object.assign({},d,{ref:n,className:"input__input",name:a,type:r,onChange:e=>u(e.target.value)}))))};const M=e=>"number"==typeof e&&!isNaN(e),$=e=>{const t=parseFloat(`${e}`);return M(t)?t:NaN},R=e=>{var{onChange:t,stepValueRender:a}=e,n=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["onChange","stepValueRender"]);const r=((e,t,a,n)=>{const r=((e,t,a)=>{const n=[];if(M(e)&&M(t)&&M(a))for(let l=e;l<=t;l+=a)n.push(l);return n})(e,t,a),o="function"==typeof n?n:e=>e;return r.length>0?l().createElement("span",{className:"input__steps"},r.map(((e,t)=>l().createElement("span",{key:t,className:`input__step input__step--${t+1}`},o(e))))):null})($(n.min),$(n.max),$(n.step),a);return l().createElement(k,Object.assign({},n,{type:"range",onChange:e=>t(parseFloat(e)),render:e=>l().createElement("span",{className:"input__range-wrapper"},e,r)}))};const A=(e,t)=>{const a=e.indexOf(t);return a>=0?a:""},I=e=>{var{options:t,className:a,label:r,name:o,placeholder:i,value:s,valid:c,validationMessage:u,touched:p,optionRender:m,onChange:d}=e,g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["options","className","label","name","placeholder","value","valid","validationMessage","touched","optionRender","onChange"]);(0,n.useContext)(j);const v=m||(e=>`${e}`);return l().createElement(x,{label:r,type:"select",className:a,valid:c,validationMessage:u,touched:p},l().createElement("select",Object.assign({},g,{className:"input__select",value:A(t,s),onChange:e=>d(t[parseInt(e.target.value,10)])}),i&&l().createElement("option",{value:"",disabled:!0},i),t.map(((e,t)=>l().createElement("option",{key:`${e}--${t}`,value:t},v(e))))))};const F=e=>{var{template:t,className:a}=e,r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["template","className"]);const o=(0,n.useCallback)((e=>{e&&t&&("string"==typeof t?e.innerHTML=t:e.appendChild(t.cloneNode(!0)))}),[t]);return l().createElement(l().Fragment,null,t&&l().createElement("div",Object.assign({},r,{className:a,ref:o})))},D=({modifier:e,children:t,toggle:a})=>l().createElement("label",{className:`toggle__label toggle__label--${e}`,onClick:()=>a()},t),T=({label:e,value:t,label1:a,value1:r,label2:o,value2:i,onChange:s})=>{const{templates:{toggle:c}}=(0,n.useContext)(j),u=()=>s(t===r?i:r);return l().createElement(x,{className:"toggle",label:e},l().createElement("input",{className:"toggle__input",type:"checkbox",checked:t===i,onChange:()=>u()}),l().createElement(D,{modifier:"1",toggle:u},a),l().createElement(F,{className:"toggle__icon",template:c}),l().createElement(D,{modifier:"2",toggle:u},o))},L=({location:e,locationIcon:t=""})=>l().createElement("div",{className:"location"},l().createElement(F,{className:"location__icon",template:t}),l().createElement("span",{className:"location__name"},e.name),l().createElement("address",{className:"location__address"},e.address));const H=e=>{return t=void 0,a=void 0,l=function*(){if(void 0===window.L){console.debug("loading leaflet");const t=["https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"],a=["https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"];return e&&(t.push("//unpkg.com/leaflet-gesture-handling/dist/leaflet-gesture-handling.min.css"),a.push("https://unpkg.com/leaflet-gesture-handling")),((...e)=>{e.forEach((e=>{const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}))})(...t),v(...a).then((()=>console.debug("leaflet loaded")))}console.debug("leaflet already loaded")},new((n=void 0)||(n=Promise))((function(e,r){function o(e){try{s(l.next(e))}catch(e){r(e)}}function i(e){try{s(l.throw(e))}catch(e){r(e)}}function s(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(o,i)}s((l=l.apply(t,a||[])).next())}));var t,a,n,l},B=()=>{const{suspend:e}=(0,n.useContext)(Q),{driveSpeed:t,driveTime:a,form:{practice:{lat:r,lng:o}},mapGestureHandling:i,isolineColor:s,urls:{mapbox:c,isoline:u}}=(0,n.useContext)(j),p=(0,n.useRef)(),m=(0,n.useRef)(),g=(0,n.useCallback)((()=>{p.current&&d(u,{latitude:r,longitude:o,seconds:a*t},e).then((e=>{const t=p.current,a=m.current;if(t){const n=m.current=window.L.geoJSON(e,{style:()=>({color:s})}).addTo(t);t.fitBounds(n.getBounds()),a&&t.removeLayer(a)}}))}),[t,a,r,o,c,u]);return(0,n.useEffect)((()=>{g()}),[g]),l().createElement("div",{className:"map",ref:(0,n.useCallback)((e=>{e&&H(i).then((()=>{const t=p.current=window.L.map(e,{gestureHandling:!0}).setView([r,o],13);window.L.tileLayer(c,{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(t),g()}))}),[])})},W={currency:"USD",style:"currency",maximumFractionDigits:0,minimumFractionDigits:0},V=e=>g(e,W),Y=({children:e})=>l().createElement("div",{className:"revenue-report__container"},e),z=({label:e,value:t})=>l().createElement("div",{className:"revenue-report__field report-field"},l().createElement("div",{className:"report-field__label"},e),l().createElement("div",{className:"report-field__value"},t)),q=({procedure:e,availableProcedures:t,conversionRate:a,percentPopulation:r,onChange:o,onDelete:i})=>{const[s,p]=(0,n.useState)((null==e?void 0:e.DefaultPrice)||0),m=u(null==e?void 0:e.MinimumPrice,1),d=u(null==e?void 0:e.MaximumPrice,1e6);return(0,n.useEffect)((()=>{p((null==e?void 0:e.DefaultPrice)||0)}),[null==e?void 0:e.DefaultPrice]),l().createElement("div",{className:"revenue-report__item"},l().createElement(Y,null,l().createElement(I,{label:"Choose a service",value:e,options:t,optionRender:e=>e.Label,onChange:o}),l().createElement(k,{label:"Adjust Price",type:"text",value:V(s),onChange:e=>{const t=parseInt(e.replace(/\D/g,""))||0;t<1e9&&p(t)},valid:()=>s>=m&&s<=d,validationMessage:()=>s<m?`Enter a number greater than ${V(m)}.`:s>d?`Enter a number less than ${V(d)}.`:c(null==e?void 0:e.MinimumPrice)&&c(null==e?void 0:e.MaximumPrice)?`Enter a number between ${V(m)} and ${V(d)}.`:"Enter a valid number."})),l().createElement(Y,null,e&&l().createElement(l().Fragment,null,l().createElement(z,{label:"Prospects",value:g(e.ProceduresPerYear*r,0)}),l().createElement(z,{label:"Patients",value:g(e.ProceduresPerYear*r*(a/100),0)}),l().createElement(z,{label:"Potential",value:`$${g(s*e.ProceduresPerYear*r*(a/100),0)}`})),l().createElement("button",{className:"revenue-report__button revenue-report__button--remove",onClick:i},l().createElement("span",null,"Remove"))))},Z=({procedures:e,percentPopulation:t})=>{const{conversionRate:a}=(0,n.useContext)(j),[r,o]=(0,n.useState)([]),i=((e,t)=>t.filter((t=>!e.some((e=>e.MasterProcedureId===t.MasterProcedureId)))))(r,e);(0,n.useEffect)((()=>{e&&e.length>0?o([e[0]]):o([])}),[e]);const s=(0,n.useCallback)(((e,t)=>{o((a=>a.map(((a,n)=>n===t?e:a))))}),[o]),c=(0,n.useCallback)((e=>{o((t=>t.filter(((t,a)=>a!==e))))}),[o]);return l().createElement("div",{className:"revenue-report"},r.map(((e,n)=>l().createElement(q,{key:e.MasterProcedureId,procedure:e,availableProcedures:[e,...i],conversionRate:a,percentPopulation:t,onChange:e=>s(e,n),onDelete:()=>c(n)}))),l().createElement("div",{className:"revenue-report__buttons"},l().createElement("button",{className:"revenue-report__button revenue-report__button--add",disabled:!i.length,onClick:()=>o((e=>[...e,i[0]]))},"Add Service"),l().createElement("button",{className:"revenue-report__button revenue-report__button--add-all",disabled:!i.length,onClick:()=>o((e=>[...e,...i]))},"Add All Services")))},J=({stepCount:e,currentStep:t})=>l().createElement("div",{className:"step__indicator step-indicator"},"Step ",l().createElement("span",{className:"step-indicator__step"},t)," of ",l().createElement("span",{className:"step-indicator__step-count"},e)),K=({step:e,stepCount:t,title:a,subtitle:r,text:o,button:i,fields:s,validate:c})=>{const[u,p]=(0,n.useState)();return l().createElement("form",{className:`step step--${e}`,onSubmit:e=>{e.preventDefault(),p(!0),c()&&i.onClick()}},l().createElement(J,{currentStep:e,stepCount:t}),l().createElement("h2",{className:"step__title"},a+" ",l().createElement("small",{className:"step__subtitle"},r)),l().createElement("p",{className:"step__text"},o),l().createElement("div",{className:"step__fields"},s.map(((e,t)=>{const a=e[0],r=e[1];return"boolean"==typeof u&&(r.touched=u),l().createElement("div",{className:"step__field",key:t},(0,n.createElement)(a,r))}))),l().createElement("button",{className:"step__button"},i.text))},G=({contain:e,children:t})=>e?l().createElement("div",{className:"modal__container"},t):l().createElement(l().Fragment,null,t),Q=(0,n.createContext)({suspended:!1,suspend:()=>{}}),U=({contain:e,children:t})=>{const[a,r]=(0,n.useState)(0),o=(0,n.useCallback)((e=>{r((t=>e?t+1:t-1))}),[]),i=a>0;return l().createElement(Q.Provider,{value:{suspend:o,suspended:i}},l().createElement(G,{contain:e},t,i&&l().createElement("div",{className:"modal modal--suspense"})))},X=({pageNumber:e,children:t})=>l().createElement("div",{className:`page page--${e}`},t),ee=e=>{let t=e.slice(0,3);return e.length>3&&(t+=`-${e.slice(3,6)}`),e.length>6&&(t+=`-${e.slice(6)}`),t},te=({currentStep:e,moveNext:t})=>{const{suspend:a}=(0,n.useContext)(Q),r=(0,n.useContext)(j),{form:o,formValidators:i,templates:{formDecor:s},urls:{specialties:c}}=r,[u,p]=(0,n.useState)([]);(0,n.useEffect)((()=>{d(c,a).then((e=>{p(e);const t=e.find((e=>{var t;return e.SpecialtyId===(null===(t=o.specialty)||void 0===t?void 0:t.SpecialtyId)}));t&&r.setState((e=>Object.assign(Object.assign({},e),{form:Object.assign(Object.assign({},e.form),{specialty:t})})))}))}),[c]);const m=(e,t)=>(t.onChange=((e="",t,a)=>a||((e,t)=>a=>{e&&t.setState((t=>Object.assign(Object.assign({},t),{form:Object.assign(Object.assign({},t.form),{[e]:a})})))})(e,t))(t.name,r,t.onChange),[e,t]),g=Object.keys(i).reduce(((e,t)=>(e[t]=()=>i[t](o[t]),e)),{}),v=[l().createElement(K,{key:1,step:1,stepCount:2,title:"Instant Free",subtitle:"Market Analysis",text:"Learn about your market demographics, patients and local competitors.",button:{text:"View Free Market Report",onClick:t},validate:()=>g.practice()&&g.specialty()&&g.website(),fields:[m(C,{apiKey:"AIzaSyBYtv7IvmkQWjcOLgdFoZH04NygY4MCDeQ",label:"Practice Name",name:"practice",placeholder:"What is your practice name?",value:o.practice,valid:g.practice,validationMessage:"Enter your practice name."}),m(I,{label:"Specialty",name:"specialty",placeholder:"What is your specialty?",value:o.specialty,options:u,optionRender:e=>e.Label,valid:g.specialty,validationMessage:"Select a specialty."}),m(k,{label:"Website",type:"text",name:"website",placeholder:"What is your website?",value:o.website,valid:g.website,validationMessage:"Enter your website."})]}),l().createElement(K,{key:2,step:2,stepCount:2,title:"Verify",subtitle:"Your Medical Practice",text:"This report may only be accessed by a medical practice & its associates.",button:{text:"Unlock Market Report",onClick:t},validate:()=>g.fullName()&&g.email()&&g.phone(),fields:[m(k,{label:"Full Name",type:"text",name:"fullName",placeholder:"What is your full name?",value:o.fullName,valid:g.fullName,validationMessage:"Enter your full name."}),m(k,{label:"Email",type:"email",name:"email",placeholder:"What is your email?",value:o.email,valid:g.email,validationMessage:"Enter your email."}),m(k,{label:"Phone",type:"tel",name:"phone",placeholder:"What is your phone number?",value:ee(o.phone),valid:g.phone,validationMessage:"Enter your phone number.",onChange:e=>{const t=e.replace(/\D/g,"");r.setState((e=>Object.assign(Object.assign({},e),{form:Object.assign(Object.assign({},e.form),{phone:t})})))}})]})];return l().createElement(X,{pageNumber:e},l().createElement(F,{className:"form__decor",template:s}),v[e-1])},ae=({children:e})=>l().createElement("h2",{className:"page__heading"},e),ne=({actions:e})=>l().createElement("div",{className:"page__actions"},e.map((({onClick:e,template:t},a)=>l().createElement(F,{key:a,className:"page__action",template:t,onClick:e})))),le=({modifier:e,children:t})=>l().createElement("div",{className:"page__section"+(e?` page__section--${e}`:"")},t),re=({modifier:e,children:t})=>l().createElement("div",{className:"page__sub-section"+(e?` page__sub-section--${e}`:"")},t),oe=({moveTo:e})=>{const{conversionRate:t,driveTime:a,form:{practice:r,specialty:o},hideRevenueReport:i,templates:{locationIcon:s,page3Header:c,backIcon:u="◀ Back"},radius:p,urls:m,setState:g}=(0,n.useContext)(j),{suspend:v}=(0,n.useContext)(Q),{zip:b,lat:f,lng:y}=r,[h,E]=(0,n.useState)(!1),[_,N]=(0,n.useState)(),[S,w]=(0,n.useState)([]),C=!i&&o&&_&&S.length>0;return(0,n.useEffect)((()=>{((e,t,a,n,l,r,o)=>{d(e,{zip:t,latitude:a,longitude:n,radius:l},o).then(r)})(m.demographic,b,f,y,p,N,(e=>{E(e),v(e)}))}),[m.demographic,b,f,y,p,N]),(0,n.useEffect)((()=>{o&&d(m.procedures,{specialtyId:null==o?void 0:o.SpecialtyId},v).then(w)}),[null==o?void 0:o.SpecialtyId,m.procedures]),l().createElement(X,{pageNumber:3},l().createElement(F,{className:"page__header",template:c}),l().createElement(ae,null,"Analyze Your Local Market",l().createElement(ne,{actions:[{onClick:()=>e(1),template:u}]})),l().createElement(le,{modifier:"demographics"},l().createElement(re,null,l().createElement(L,{location:r,locationIcon:s}),l().createElement(R,{label:`${p} mile radius around your practice`,value:p,min:"0",max:"40",step:"10",onChange:e=>g((t=>Object.assign(Object.assign({},t),{radius:e})))}),C&&l().createElement(R,{label:`${t}% conversion rate for new patients`,value:t,min:"0",max:"100",step:"25",stepValueRender:e=>`${e}%`,onChange:e=>g((t=>Object.assign(Object.assign({},t),{conversionRate:e})))})),l().createElement(O,{demographics:_,loading:h})),C&&l().createElement(l().Fragment,null,l().createElement(ae,null,"Build Your Revenue Report"),l().createElement(Z,{procedures:S,percentPopulation:(null==_?void 0:_.PercentPopulation)||100})),l().createElement(ae,null,"View Patient Drive Times",l().createElement(T,{label:"Drive Time",value:a,label1:"15 min",value1:15,label2:"30 min",value2:30,onChange:e=>g((t=>Object.assign(Object.assign({},t),{driveTime:e})))})),l().createElement(U,{contain:!0},l().createElement(B,null)))};const ie=(e,t)=>{if(e>=1&&e<=3){const{disableLeadSubmission:a,form:n,urls:{submitLead:l},setState:r}=t;3===e&&!a&&l&&((e,t)=>{return Promise.all((a=e,a instanceof Array?a:[a]).map((e=>{if(e){const a=(e=>"string"==typeof e?{url:e,body:e=>{var t;return{PracticeName:e.practice.name,Specialty:null===(t=e.specialty)||void 0===t?void 0:t.Label,Website:e.website,FullName:e.fullName,Email:e.email,Phone:e.phone,LeadSource:"Market Analysis",__raw__:e}}}:e)(e);return function(e,t,a,n,l){const r=s(void 0);return r(!0),fetch(m(e,void 0),Object.assign({method:"POST",headers:{"Content-Type":"application/json"},body:"string"==typeof t?t:JSON.stringify(t)},l)).then((e=>e.json())).finally((()=>r(!1)))}(p(a.url,t),a.body(t),0,0,a.init)}})));var a})(l,n),window.scrollTo({behavior:"smooth",top:0}),r((t=>Object.assign(Object.assign({},t),{page:e})))}},se=e=>{var{debug:t,children:a}=e,r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["debug","children"]);const[o,i]=(0,n.useState)(Object.assign(Object.assign({},w),r)),s=Object.assign(Object.assign({},o),{setState:i});return l().createElement(j.Provider,{value:s},l().createElement(U,null,l().createElement("div",{className:`market-analysis-app market-analysis-app--page-${o.page}`},1===o.page||2===o.page?l().createElement(te,{currentStep:o.page,moveNext:()=>ie(o.page+1,s)}):l().createElement(oe,{moveTo:e=>ie(e,s)}),t&&l().createElement(l().Fragment,null,l().createElement("h3",null,"State:"),l().createElement("pre",{style:{whiteSpace:"pre-wrap"}},l().createElement("code",null,JSON.stringify(o,null,4)))))))},ce=(e,t)=>{o().render((0,n.createElement)(se,t),e)};if("object"==typeof window.marketAnalysisConfig){let e=window.marketAnalysisConfig.root;"string"==typeof e&&(e=document.querySelector(e)),e&&ce(e,window.marketAnalysisConfig.props)}else"function"==typeof window.marketAnalysisConfig&&window.marketAnalysisConfig(ce)},804:t=>{t.exports=e},196:e=>{e.exports=t}},n={};function l(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return a[e](t,t.exports,l),t.exports}return l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l(827)})()}));